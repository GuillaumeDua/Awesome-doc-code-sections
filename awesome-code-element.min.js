let o={API:{},details:{}};var e=o.API,t=o.details;function a(){}o.details.dependency={},o.details.dependency.descriptor=class{get[Symbol.toStringTag](){return"ace.details.dependency.descriptor"}constructor(e){for(const t in e)this[t]=e[t];if(!this.name)throw new Error("ace.details.dependency.descriptor: invalid input: missing mandatory parameter [name]");if(!this.version_detector)throw new Error("ace.details.dependency.descriptor: invalid input: missing mandatory parameter [version_detector]")}name=void 0;version_detector=()=>{};url="";is_mandatory=!1},o.details.dependency.manager=new class i{get[Symbol.toStringTag](){return"ace.details.dependency.manager"}dependencies={};constructor(e=[]){if(!(e instanceof Array))throw new Error("ace.details.dependency.manager: invalid input: expect Array of dependency_descriptor");e.forEach(e=>{e.version=e.version_detector(),this.dependencies[e.name]=e})}async load_missing_dependencies(){console.info("ace.details.dependency.manager: loading missing dependencies (this can take some time...)");var e=Object.entries(this.dependencies).map(([,e])=>e).filter(e=>e.is_mandatory).map(async e=>{if(!e.version_detector()){var t=e.url instanceof Function?e.url():e.url;if(t)return i.include({name:e.name,url:t}).then(()=>{e.version=e.version_detector()});throw new Error(`ace.details.dependency.manager: missing mandatory dependency [${e.name}], no fallback provided`)}});await Promise.all(e)}static include({name:a,url:i}){console.info(`ace.details.dependency.manager.include: including dependency [${a}]`,`using url [${i}]`);var e="ace-dependency_"+a;let r=document.getElementById(e);if(!r||r.src!==i)return(r=document.createElement("script")).src=i,r.type="text/javascript",r.defer=!1,r.async=!1,r.id=e,r.setAttribute("ace-dependecy-name",a),r=document.head.appendChild(r),new Promise((e,t)=>{r.addEventListener("error",()=>{t(new Error(`ace.details.dependency.manager.include: failure: [${a}] using url [${i}]`))}),r.addEventListener("load",()=>{r.is_loaded=!0,console.info(`ace.details.dependency.manager.include: loaded: [${a}]`),e(r)})})}static get_imported_module_path(t){var e=Array.from(document.querySelectorAll('script[type="module"]'));let a="";var i=e=>{e=e.match(`(:?[^"']*)`+t);e&&2==e.length&&(a=e[1])};return e.map(e=>e.src).forEach(i),a||e.filter(e=>!e.src).map(e=>e.innerText).forEach(i),a}}([new o.details.dependency.descriptor({name:"jquery",version_detector:function(){return"undefined"!=typeof jQuery?jQuery.fn.jquery:void 0},url:"https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js",is_mandatory:!0}),new o.details.dependency.descriptor({name:"hljs",version_detector:function(){return"undefined"!=typeof hljs?hljs.versionString:void 0},is_mandatory:!0,url:"https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"}),new o.details.dependency.descriptor({name:"doxygen_awesome_css_dark_mode",is_mandatory:!1,version_detector:function(){return"undefined"!=typeof DoxygenAwesomeDarkModeToggle?"not_impl_yet":void 0}}),new o.details.dependency.descriptor({name:"doxygen",is_mandatory:!1,version_detector:function(){var e=document.querySelector("meta[name=generator][content^=Doxygen]");if(e)return e.getAttribute("content").replace("Doxygen ","")}})]),await o.details.dependency.manager.load_missing_dependencies(),o.details.containers={},o.details.containers.translation_map=class extends Map{get[Symbol.toStringTag](){return"ace.details.containers.translation_map"}key_translator=void 0;mapped_translator=void 0;constructor(e,{key_translator:i,mapped_translator:r}={}){super(e=e&&e.map(e=>{let[t,a]=e;return i&&(t=i(t)),r&&(a=r(a)),[t,a]})),this.key_translator=i,this.mapped_translator=r}get(e){return this.key_translator&&(e=this.key_translator(e)),super.get(e)}set(e,t){return this.key_translator&&(e=this.key_translator(e)),this.mapped_translator&&(t=this.mapped_translator(t)),super.set(e,t),this}has(e){return this.key_translator&&(e=this.key_translator(e)),super.has(e)}},o.API.configuration=new class r{get[Symbol.toStringTag](){return"ace.API.configuration"}static compiler_explorer_type=class extends o.details.containers.translation_map{get[Symbol.toStringTag](){return"ace.API.configuration.compiler_explorer_type"}static get base(){return o.details.containers.translation_map}constructor(e){super(e,{key_translator:e=>{var t=hljs.getLanguage(e);return t||console.warn(`${this} as ${base.prototype}: invalid language [${e}]`),t?t.name:void 0},mapped_translator:e=>{if(e&&e.compiler_id)return e;throw new Error(`${this} as ${base.prototype}: missing mandatory field '.compiler_id' in configuration `+e)}})}set(e,t){var a;this.has(e)&&(a=hljs.getLanguage(e),console.warn(this+`.set: override existing configuration for language [${e}].`,`
	Translated name is [${a.name}], aliases are [${a.aliases}]`)),super.set(e,t)}};get#default_value(){return{is_default:!0,description:{version:"1.0.0",name:"awesome-code-element.js",path_prefix:(()=>{var e=Array.from(document.querySelectorAll('script[type="module"]'));let t="";var a=e=>{e=e.match(`(:?[^"']*)awesome-code-element.js`);e&&2==e.length&&(t=e[1])};return e.map(e=>e.src).forEach(a),t||e.filter(e=>!e.src).map(e=>e.innerText).forEach(a),t})(),stylesheet_url:void 0},CE:new r.compiler_explorer_type,CodeSection:{language:void 0,toggle_parsing:!0,toggle_execution:!1,direction:""},hljs:{default_theme:"tokyo-night"},compatibility:{doxygen:Boolean(o.details.dependency.manager.dependencies.doxygen.version),doxygen_awesome_css:!1,pre_code:!1},auto_hide_buttons:!1,force_dark_light_scheme:Boolean(o.details.dependency.manager.dependencies.doxygen_awesome_css_dark_mode.version)?"dark":Boolean(o.details.dependency.manager.dependencies.doxygen.version)?"light":void 0}}#value=this.#default_value;get value(){return this.#value}configure(e){if(!e)throw new Error(this+".configure: invalid argument");e.CE=(()=>{if(!e.CE||e.CE instanceof r.compiler_explorer_type)return e.CE;if(e.CE instanceof Map)return new r.compiler_explorer_type([...e.CE]);throw new Error(this+": invalid type for argument: [CE]")})(),o.details.utility.unfold_into({target:this.#value,properties:e}),this.#value.is_default&&delete this.#value.is_default,this.#make_ready()}get is_default(){return this.#value?.is_default??!1}#is_ready=!1;get is_ready(){return this.#is_ready}#make_ready(){if(this.#is_ready)throw new Error(this+".#make_ready: already called");this.#is_ready=!0,this.#when_ready_callbacks.forEach(e=>e()),this.#when_ready_callbacks=[]}#when_ready_callbacks=[];when_ready_then({handler:e}){if(!(e&&e instanceof Function))throw new Error(this+".when_ready_then: invalid argument type");this.#is_ready?e():this.#when_ready_callbacks.push(e)}},o.API.configure=o.API.configuration.configure.bind(o.API.configuration),o.details.remote={},o.details.remote.resources_cache=class{get[Symbol.toStringTag](){return"ace.details.remote.resources_cache"}#remote_files=new Map;static async#fetch_remote_file(t){try{return await(await fetch(t)).text()}catch(e){console.error(this.prototype+".#fetch_remote_file(): error",`
	with error = [${e}]`,`
	with uri   = [${t}]`)}}async get(e){return this.#remote_files.has(e)||this.#remote_files.set(e,await o.details.remote.resources_cache.#fetch_remote_file(e)),this.#remote_files.get(e)}},o.details.utility=class n{get[Symbol.toStringTag](){return"ace.details.utility"}constructor(){throw new Error(this+".constructor: not instanciable")}static accumulate_objects=(t,a)=>{a??={};let i={...t??={}};return new Set([...Object.keys(t),...Object.keys(a)]).forEach(e=>{i[e]=a[e]??t[e]}),i};static unfold_into({target:a,properties:e={}}){if(!a)throw new Error(this.prototype+`: invalid argument "target" = [${a}]`);for(const i in e)a[i]&&a[i]instanceof HTMLElement||e[i]instanceof HTMLElement?a[i]=e[i]:a[i]&&a[i]instanceof Map&&e[i]instanceof Map?e[i].forEach((e,t)=>a[i].set(t,e)):a[i]&&"object"==typeof a[i]&&"object"==typeof e[i]?n.unfold_into({target:a[i],properties:e[i]}):a[i]=e[i]}static get_url_extension(e){try{return e.split(/[#?]/)[0].split(".").pop().trim()}catch(e){}}static fetch_resource(e,{on_error:t,on_success:a}){let i=new XMLHttpRequest;return i.open("GET",e),i.onerror=()=>{t(this.prototype+`.fetch_resource: network error on url [${e}]`)},i.onload=()=>{200!=i.status?t(`${this.prototype}.fetch_resource: bad request status ${i.status} on url [${e}]`):a(i.responseText)},i.send(),i}static make_incremental_counter_generator=function*(){let e=0;for(;;)yield e++};static cancelable_setTimeout=function(e,t){let a={canceled:!1};return setTimeout(()=>{a.canceled||e()},t),a};static inject_field_proxy=function(e,t,{getter_payload:a,setter_payload:i}={}){1===Boolean(void 0===e.__lookupSetter__(t))+Boolean(void 0===e.__lookupGetter__(t))&&console.warn(`${this.prototype}.inject_field_proxy: target property [${e.constructor.name}.${t}] has a getter but no setter, or vice-versa`);var r,o=e,n=o[t];const s=(r=o.__lookupGetter__(t))?r.bind(e):()=>n,l=(r=o.__lookupSetter__(t))?r.bind(o):e=>{n=e};return Object.defineProperty(o,t,{get:a?()=>{var e=s();return a(e)}:()=>s(),set:i?e=>{e=i(e),l(e)}:e=>{l(e)}}),{get:o.__lookupGetter__(t),set:o.__lookupSetter__(t)}};static inject_on_property_change_proxy=function({target:e,property_name:a,on_property_change:i}={}){const t=Object.getOwnPropertyDescriptor(e,a)??Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e),a);if(void 0===t||!t.configurable)throw new Error(`${this.prototype}.inject_on_property_change_proxy: invalid property descriptor: ${e.toString()}[${a}] is not configurable`);var r=e[a];delete e[a];const o=t.get?t.get.bind(e):t.value?()=>r:void 0,n=t.set?t.set.bind(e):t.value?e=>r=e:void 0;var s={configurable:!0,enumerable:!0};return o&&(s.get=()=>{var e,t=o();return t===r?t:(e={origin_op:"get",property_name:a,old_value:r,new_value:t},r=t,i(e),r)}),n&&(s.set=e=>{var t;e!==r&&(n(e),t={origin_op:"set",property_name:a,old_value:r,new_value:e},r=e,i(t))}),Object.defineProperty(e,a,s),{origin:{get:o,set:n},transformed:{get:e.__lookupGetter__(a),set:e.__lookupSetter__(a)},revoke:()=>Object.defineProperty(e,a,t)}}},o.details.utility.html=class{get[Symbol.toStringTag](){return"ace.details.utility.html"}constructor(){throw new Error(this+".constructor: not instanciable")}static codec=class s{get[Symbol.toStringTag](){return"ace.details.utility.html_codec"}constructor(){throw new Error(this+".constructor: not instanciable")}static entities=new Array(["&gt;",">"],["&lt;","<"],["&amp;","&"],["&quot;",'"'],["&#39;","'"]);static decode=a=>(s.entities.forEach(([e,t])=>a=a.replaceAll(e,t)),a);static encode=a=>(s.entities.forEach(([e,t])=>a=a.replaceAll(t,e)),a)};static apply_css(e,t){o.details.utility.unfold_into({target:e.style,properties:t})}static create_shadowroot_slot(e,t){e.shadowRoot||e.attachShadow({mode:"open"}),e.shadowRoot.innerHTML="<slot></slot>";const a=e.shadowRoot.querySelector("slot");let i=e=>{e=e.target.assignedElements();t(e)};return a.addEventListener("slotchange",i,{once:!0}),{remove:()=>(a.removeEventListener("slotchange",i),e.shadowRoot.innerHTML="",e.outerHTML=e.outerHTML,e)}}static remove_shadowroot(e){e.shadowRoot.innerHTML="",e.outerHTML=e.outerHTML}static remove_all_childrens(e){for(;e.firstChild;)e.removeChild(e.lastChild)}static is_scrolling(e){return{horizontally:e.scrollWidth>e.clientWidth,vertically:e.scrollHeight>e.clientHeight}}},o.details.utility.types=class l{get[Symbol.toStringTag](){return"ace.details.utility.types"}constructor(){throw new Error(this+".constructor: not instanciable")}static get_inherited_typenames=function(t){if(!t||!t.constructor)return"";var a=[];for(let e=Object.getPrototypeOf(t.constructor);e&&e!==Object&&e.name;e=Object.getPrototypeOf(e))a.push(e.name);return a.join(", ")};static get_object_typename=function(e){return e&&e.toString?e.toString().replace(/^\[object\ (?:(.*)\/)?(.*)\]$/,"$1"):""};static typename_of({value:e}){if(e instanceof Object)return 2===(e=e.toString().match(/\[object (.+)\]/)).length?e[1]:void 0;throw new Error(this.prototype+".typename_of: invalid argument")}static is_string(e){return"string"==typeof e||e instanceof String}static is_int(e){return!isNaN(e)&&parseInt(Number(e))==e}static is_empty(e){return Boolean(e)&&0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}static projections=class{static no_op={from:e=>e,to:e=>e};static boolean={from:e=>String(e),to:e=>"true"===e||!1};static integer={from:e=>String(e),to:e=>parseInt(e)};static float={from:e=>String(e),to:e=>parseFloat(e)};static string={from:e=>l.is_string(e)?e:String(e),to:e=>String(e)}}},o.details.utility.data_binder=class d{get[Symbol.toStringTag](){return"ace.details.utility.data_binder"}constructor(){throw new Error(this+".constructor: not instanciable")}static get default_projection(){return{from:e=>e,to:e=>e+""}}static get_property_descriptor({owner:e,property_name:t}){return Object.getOwnPropertyDescriptor(e,t)||Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e),t)||{}}static#make_attribute_bound_adapter({target:r,attribute_name:o,on_value_changed:n}){if(o=o.replace(/\s+/g,"_"),!(r&&r instanceof HTMLElement&&o))throw new Error(this.prototype+".#make_attribute_bound_adapter: invalid argument");let t=(()=>{let i=void 0;return(i=new MutationObserver(t=>{for(let e of t){var a=e.target.getAttribute(e.attributeName);e.oldValue!==a&&(n?n(a):(i.suspend_while(()=>r.setAttribute(o,e.oldValue)),console.warn(this.prototype+".#make_attribute_bound_adapter: data-source is read-only","\n\tcanceling requested attr change [",e.oldValue,"->",a,"]","\n\tinspect property [",o,"] of target",r)))}})).suspend_while=e=>{i.disconnect(),e(),i.observe(r,{attributeFilter:[o],attributeOldValue:!0})},i.observe(r,{attributeFilter:[o],attributeOldValue:!0}),i})();return{owner:r,attribute_name:o,initiale:{get:()=>r.getAttribute(o),set:e=>t.suspend_while(()=>r.setAttribute(o,e))},revoke:()=>{t.disconnect()}}}static#make_property_bound_adapter({owner:e,property_name:t,on_value_changed:a}){if(!(e&&t&&t in e&&a))throw new Error(this.prototype+".#make_property_bound_adapter: invalid argument");const i=d.get_property_descriptor({owner:e,property_name:t});let r=i.value;const o={get:i.get?i.get.bind(e):"value"in i?()=>r:void 0,set:i.set?i.set.bind(e):"value"in i?e=>r=e:void 0};var n=o.get?()=>{var e=o.get();return a(e),e}:void 0,s=o.set?e=>{o.set(e),a(o.get?o.get():e)}:void 0;return Object.defineProperty(e,t,{get:n,set:s,configurable:!0}),{owner:e,property_name:t,initiale:o,revoke:()=>Object.defineProperty(e,t,i)}}static bind_attr({data_source:i,attributes:e,projection:r}){if(!(i&&e&&e instanceof Array&&0!==e.length))throw new Error(this.prototype+".bind_attr: invalid argument");r??=d.default_projection;var t=(({owner:e,property_name:t})=>{e=d.get_property_descriptor({owner:e,property_name:t});return e.get?.data_binding||e.set?.data_binding})(i);if(t)return t.extend_binding({attributes:e,projection:r});let a=void 0;const o=t=>a.forEach(e=>e.initiale.set(t)),n=({owner:t,property_name:l}=[i][0],d.#make_property_bound_adapter({owner:t,property_name:l,on_value_changed:o})),s=(a=e.map(({target:e,attribute_name:t},a)=>d.#make_attribute_bound_adapter({target:e,attribute_name:t,on_value_changed:n.initiale.set?e=>i.owner[i.property_name]=r.from(e):void 0})),[n,...a]);{var{owner:t,property_name:l}=n;t=d.get_property_descriptor({owner:t,property_name:l});const c=e;l={extend_binding:({attributes:e,projection:t})=>{if(e instanceof Array&&0!==e.length)return s.forEach(({revoke:e})=>e()),d.bind_attr({data_source:i,attributes:[...c,...e],projection:t});throw new Error(d.prototype+".<binding_result>.extend_binding: invalid argument")}},t.get&&(t.get.data_binding=l),t.set&&(t.set.data_binding=l)}return void 0===n.initiale.get?(console.error(this.prototype+`.bind_attr: data-source is write-only. Initiale value is undefined. data_source=[${i}]`),o(void 0)):o(n.initiale.get()),{revoke:()=>s.forEach(e=>e.revoke())}}static synced_attr_view_controler({target:i,data_sources:e}){if(i&&i instanceof HTMLElement&&e&&e instanceof Array&&0!==e.length)return e.map(({owner:e,property_name:t,projection:a})=>{e=d.bind_attr({data_source:{owner:e,property_name:t},attributes:[{target:i,attribute_name:t}],projection:a}).revoke;return e});throw new Error(this.prototype+".make_attr_binding: invalid argument")}},o.details.remote.API={},o.details.remote.API.compiler_explorer=class c{get[Symbol.toStringTag](){return"ace.details.remote.API.compiler_explorer"}constructor(){throw new Error(this+".constructor: not instanciable")}static#static_initializer=async function(){c.#fetch_languages()}();static languages=void 0;static compilers=void 0;static#remote_files_cache=new o.details.remote.resources_cache;static async#fetch_languages(){try{var e=(await(await fetch("https://godbolt.org/api/languages")).text()).split("\n");e.shift(),c.languages=e.map(e=>e.slice(0,e.indexOf(" ")))}catch(e){console.error(this.prototype+`.#fetch_languages: godbolt APIerror
	with error = [${e}]`)}}static async#fetch_compilers(){try{var e=(await(await fetch("https://godbolt.org/api/compilers")).text()).split("\n");e.shift(),c.languages=e.map(e=>e.slice(0,e.indexOf(" ")))}catch(e){console.error(this.prototype+`.fetch_compilers: godbolt API error
	with error = [${e}]`)}}static open_in_new_tab(e){e=JSON.stringify(e),e=btoa(e),e="https://godbolt.org/clientstate/"+encodeURIComponent(e);window.open(e,"_blank")}static async fetch_execution_result(t,i){if(void 0===t.compiler_id)throw new Error(this.prototype+`.fetch_execution_result: invalid argument, missing .compiler_id.
	with ce_options = [${t}]`);var e=[...i.matchAll(/^\s*\#\s*include\s+[\"|\<](\w+\:\/\/.*?)[\"|\>]/gm)].reverse().map(async function(e){var t=await c.#remote_files_cache.get(e[1]),a=e[0].replaceAll("\n","");i=i.replace(e[0],`// download[${a}]::begin
${t}
// download[${a}]::end`)});return Promise.all(e).then(()=>(async()=>{var e={source:i,compiler:t.compiler_id,options:{userArguments:t.compilation_options,executeParameters:{args:t.execute_parameters_args||[],stdin:t.execute_parameters_stdin||""},compilerOptions:{executorRequest:!0},filters:{execute:!0},tools:[],libraries:t.libs||[]},lang:t.language,allowStoreCodeDebug:!0},e={method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(e)};return fetch(`https://godbolt.org/api/compiler/${t.compiler_id}/compile`,e).then(e=>e.text())})())}},o.details.log_facility=class{get[Symbol.toStringTag](){return"ace.details.log_facility"}constructor(){throw new Error(this+".constructor: not instanciable")}static#default_channels={debug:console.debug,error:console.error,info:console.info,log:console.log,trace:console.trace,warn:console.warn};static#empty_function=(a.is_explicitly_empty=!0,a);static is_enabled(e){return Boolean(console[e])}static enable(e){e instanceof Array?e.forEach(e=>log_facility.enable(e)):console[e]=o.details.log_facility.#default_channels[e]}static disable(e){e instanceof Array?e.forEach(e=>o.details.log_facility.disable(e)):console[e]=o.details.log_facility.#empty_function}static get enabled(){return Object.entries(o.details.log_facility.#default_channels).map(e=>e[0]).filter(e=>!Boolean(console[e].is_explicitly_empty))}static get disabled(){return Object.entries(o.details.log_facility.#default_channels).map(e=>e[0]).filter(e=>Boolean(console[e].is_explicitly_empty))}},"localhost"!==location.hostname&&o.details.log_facility.disable(["log","debug","trace"]),console.info("ace.details.log_facility:",`
	channels enabled : [${o.details.log_facility.enabled}]`,`
	channels disabled: [${o.details.log_facility.disabled}]`),o.details.HTMLUtils={},o.details.HTMLUtils.ResizeObserver=new ResizeObserver(e=>{for(var t of e)t.target.on_resize()}),o.details.HTMLElements={},o.details.HTMLElements.Buttons={},o.details.HTMLElements.Buttons.CopyToClipboard=class g extends HTMLButtonElement{static get HTMLElement_tagName(){return"ace-cs-button_copy-to-clipboard"}get[Symbol.toStringTag](){return"ace.details.HTMLElements.buttons.CopyToClipboard/"+g.HTMLElement_tagName}static title="Copy to clipboard";static copyIcon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg>';static successIcon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"/></svg>';static successDuration=980;constructor(){super(),this.setAttribute("is",g.HTMLElement_tagName),this.title=g.title,this.innerHTML=g.copyIcon,this.addEventListener("click",function(){this.innerHTML=g.successIcon,this.style.fill="green";var e=this.parentElement.textContent;navigator.clipboard.writeText(e).then(()=>{console.info(this+".click: success")},e=>{console.error(this+`.click: failed
	with error = [${e}]`)}),window.setTimeout(()=>{this.style.fill="",this.innerHTML=g.copyIcon},g.successDuration)})}},customElements.define(o.details.HTMLElements.Buttons.CopyToClipboard.HTMLElement_tagName,o.details.HTMLElements.Buttons.CopyToClipboard,{extends:"button"}),o.details.HTMLElements.Buttons.ShowInGodbolt=class u extends HTMLButtonElement{static get HTMLElement_tagName(){return"ace-cs-button_open-in-godbolt"}get[Symbol.toStringTag](){return"ace.details.HTMLElements.buttons.ShowInGodbolt/"+u.HTMLElement_tagName}static title="Try this on godbolt.org (compiler-explorer)";static icon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64"><switch><g><path d="M58.6 46.5c-.3-.5-.3-1.2 0-1.7.3-.6.7-1.3 1-2 .2-.5-.1-1-.7-1h-5.8c-.6 0-1.2.3-1.4.8-.7 1.1-1.6 2.2-2.6 3.2-3.7 3.7-8.6 5.7-13.9 5.7-5.3 0-10.2-2-13.9-5.7-3.8-3.7-5.8-8.6-5.8-13.9s2-10.2 5.8-13.9c3.7-3.7 8.6-5.7 13.9-5.7 5.3 0 10.2 2 13.9 5.7 1 1 1.9 2.1 2.6 3.2.3.5.9.8 1.4.8h5.8c.5 0 .9-.5.7-1-.3-.7-.6-1.3-1-2-.3-.5-.3-1.2 0-1.7l1.9-3.5c.4-.7.3-1.5-.3-2.1l-4.9-4.9c-.6-.6-1.4-.7-2.1-.3l-3.6 2c-.5.3-1.2.3-1.7 0-1.7-.9-3.5-1.7-5.4-2.2-.6-.2-1-.6-1.2-1.2l-1.1-3.9C40.1.5 39.5 0 38.7 0h-6.9C31 0 30.2.5 30 1.3l-1.1 3.9c-.2.6-.6 1-1.2 1.2-1.9.6-3.6 1.3-5.3 2.2-.5.3-1.2.3-1.7 0l-3.6-2c-.7-.4-1.5-.3-2.1.3l-4.9 4.9c-.6.6-.7 1.4-.3 2.1l2 3.6c.3.5.3 1.2 0 1.7-.9 1.7-1.7 3.5-2.2 5.3-.2.6-.6 1-1.2 1.2l-3.9 1.1c-.7.2-1.3.9-1.3 1.7v6.9c0 .8.5 1.5 1.3 1.7l3.9 1.1c.6.2 1 .6 1.2 1.2.5 1.9 1.3 3.6 2.2 5.3.3.6.3 1.2 0 1.7l-2 3.6c-.4.7-.3 1.5.3 2.1L15 57c.6.6 1.4.7 2.1.3l3.6-2c.6-.3 1.2-.3 1.7 0 1.7.9 3.5 1.7 5.3 2.2.6.2 1 .6 1.2 1.2l1.1 3.9c.2.7.9 1.3 1.7 1.3h6.9c.8 0 1.5-.5 1.7-1.3l1.1-3.9c.2-.6.6-1 1.2-1.2 1.9-.6 3.6-1.3 5.4-2.2.5-.3 1.2-.3 1.7 0l3.6 2c.7.4 1.5.3 2.1-.3l4.9-4.9c.6-.6.7-1.4.3-2.1l-2-3.5z" fill="#67c52a"/><path d="M23.5 37.7v4.4h23.8v-4.4H23.5zm0-7.8v4.4h19.6v-4.4H23.5zm0-7.9v4.4h23.8V22H23.5z" fill="#3c3c3f"/></g></switch></svg>';static successIcon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"/></svg>';static failureIcon='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><line x1="2" y1="22" x2="22" y2="2" stroke="red" stroke-width="3"/><line x1="2" y1="2" x2="22" y2="22" stroke="red" stroke-width="3"/></svg>';constructor(){super(),this.setAttribute("is",u.HTMLElement_tagName),this.title=u.title,this.innerHTML=u.icon,this.addEventListener("click",()=>{this.innerHTML=u.successIcon,this.style.fill="green",this.style.borderColor="",window.setTimeout(()=>{this.innerHTML=u.icon,this.style.borderColor="",this.style.fill="black"},1e3);try{this.onClickSend()}catch(e){throw this.innerHTML=u.failureIcon,this.style.borderColor="red",this.style.fill="red",e}})}onClickSend(){const t=this.parentElement,e=(()=>{if(!(t instanceof o.API.HTMLElements.CodeMVC))throw new Error(""+this+`.onClickSend: ill-formed element.
	unexpected parentElement.parentElement layout
	(must be an ${o.API.HTMLElements.CodeMVC})`);var e=t.mvc;if(e instanceof o.API.HTMLElements.CodeMVC.mvc_type)return e;throw new Error(""+this+`.onClickSend: ill-formed element.
	unexpected parentElement.parentElement.mvc_type
	(must be an ${o.API.HTMLElements.CodeMVC.mvc_type})`)})();console.info(this+".onClickSend: sending request ...");var a={get ce_options(){return e.model_details.ce_options||o.API.configuration.value.CE.get(e.controler.language)},get language(){return this.ce_options.language},get code(){return e.model_details.to_execute}};try{if(!a.ce_options)throw new Error(`${this}.onClickSend: missing CE configuration for language: [${e.controler.language}]`);if(!o.details.remote.API.compiler_explorer.languages.includes(a.language))throw new Error(`${this}.onClickSend: invalid CE API language: [${a.language}]`)}catch(e){throw t.status_for={value:"error-CE-button",message:e,duration:2e3},e}a={sessions:[{id:1,language:a.language,source:a.code,compilers:[{id:a.ce_options.compiler_id||a.ce_options.compiler_id,libs:a.ce_options.libs||[],options:a.ce_options.compilation_options||a.ce_options.default_options}],executors:[{compiler:{id:a.ce_options.compiler_id,libs:a.ce_options.libs||[],options:a.ce_options.compilation_options||a.ce_options.default_options}}]}]};o.details.remote.API.compiler_explorer.open_in_new_tab(a)}},customElements.define(o.details.HTMLElements.Buttons.ShowInGodbolt.HTMLElement_tagName,o.details.HTMLElements.Buttons.ShowInGodbolt,{extends:"button"}),o.details.HTMLElements.DeferedHTMLElement=class _ extends HTMLElement{get[Symbol.toStringTag](){return"ace.details.HTMLElements.DeferedHTMLElement"}_parameters={};constructor(e){if(super(),this.constructor===o.details.HTMLElements.DeferedHTMLElement)throw new Error(this+".constructor: is abstract, must be inherited from.");if(this.#acquire_parameters_impl(e),this._parameters.attributes&&!o.details.utility.types.is_empty(this._parameters.attributes)){console.debug(`(${this} as ${_.prototype}).constructor: explicit attributes:`,this._parameters.attributes);for(const t in this._parameters.attributes)this.setAttribute(t,this._parameters.attributes[t])}}#initialization_promise=void 0;get initialization_promise(){return this.#initialization_promise}connectedCallback(){const a=()=>{this.acquire_parameters(this._parameters)?(console.debug(`(${this} as ${_.prototype}).ConnectedCallback: no need for shadowroot slot`),this.initialize()):(console.debug(`(${this} as ${_.prototype}).ConnectedCallback: create shadowroot slot`),this.shadowroot_accessor=o.details.utility.html.create_shadowroot_slot(this,()=>{if(!this.acquire_parameters(this._parameters))throw new Error(`(${this} as ${_.prototype}).ConnectedCallback: acquire_parameters failed (no detailed informations)`);this.initialize()}))};this.#initialization_promise=new Promise((e,t)=>{a(),e()}).catch(e=>{console.error(`(${this} as ${_.prototype}).ConnectedCallback: error:`,e),this.on_critical_internal_error(e)}),this.connectedCallback=()=>{}}acquire_parameters(e){return this.#acquire_parameters_impl(e),!1}#acquire_parameters_impl(e){this._parameters={...this._parameters,...e||{}}}on_critical_internal_error(e=""){var t;console.error(`(${this} as ${_.prototype}).on_critical_internal_error: fallback rendering (No recovery possible)
	`,e),this.isConnected&&((t=document.createElement("pre")).textContent=`(${this} as ${_.prototype}).on_critical_internal_error:
	${e||"unknown error"}
	(No recovery possible)`,o.details.utility.html.apply_css(t,{color:"red",border:"2px solid red",overflow:"auto"}),this.innerHTML="",this.replaceWith(t))}},o.details.HTMLElements.StatusDisplay=class h extends HTMLElement{static get HTMLElement_tagName(){return"ace-cs-status-display"}get[Symbol.toStringTag](){return"ace.details.HTMLElements.StatusDisplay/"+h.HTMLElement_tagName}#value="unknown";#message="";set({value:e,message:t}){this.#value=e,this.#message=t,this.textContent=`[${e}]`+(t?":\n":"")+t}get(){return{value:this.#value,message:this.#message}}get value(){return this.#value}get message(){return this.#message}},customElements.define(o.details.HTMLElements.StatusDisplay.HTMLElement_tagName,o.details.HTMLElements.StatusDisplay),o.details.animation_factory=class m{static#make_controler({typename:e,element_generator:a}){return class i{get[Symbol.toStringTag](){return e+".controler"}#owner=void 0;#target=void 0;#target_visible_display=void 0;#element=void 0;static counter_type=class{get[Symbol.toStringTag](){return e+".controler.counter_type"}#on_value_changed=void 0;constructor({on_value_changed:e}){if(!(e&&e instanceof Function))throw new Error(this+".constructor: invalid argument");this.#on_value_changed=e}#value=0;get value(){return this.#value}set value(e){this.#on_value_changed(this.#value=e)}};#animate_while_counter=void 0;constructor({owner:e,target:t}){if(!(e instanceof HTMLElement&&t instanceof HTMLElement))throw new Error(this+": invalid argument type");this.#owner=e,this.#target=t,this.#target_visible_display=t.style.display,this.#element=this.#owner.appendChild(a()),this.#animate_while_counter=new i.counter_type({on_value_changed:e=>{0===e&&this.toggle_animation?this.toggle_animation=!1:0===e||this.toggle_animation||(this.toggle_animation=!0)}})}set toggle_animation(e){this.#target.style.display=Boolean(e)?"none":this.#target_visible_display,this.#element.style.display=Boolean(e)?"flex":"none"}get toggle_animation(){return Boolean("none"!==this.#element.style.display)}animate_while({promise:e}){if(!(e instanceof Promise))throw new Error(this+".animate_while: invalid argument type");this.toggle_animation&&console.warn(this+".animate_while: already animating"),++this.#animate_while_counter.value,e.then(()=>{--this.#animate_while_counter.value})}}}static make({typename:e,element_name:t,resource_url:a}){return class r{static get HTMLElement_tagName(){return t}get[Symbol.toStringTag](){return t+"/"+r.HTMLElement_tagName}static#cache=(a=a,i=document.createElement("img"),i.src=a,i.id=r.HTMLElement_tagName,i.className=r.HTMLElement_tagName,i.style.display="none",i);static get element(){return r.#cache.cloneNode()}static controler=m.#make_controler({typename:e,element_generator:()=>r.element})};var i}},o.details.loading_animation=o.details.animation_factory.make({typename:"ace.details.loading_animation",element_name:"ace-loading-animation",resource_url:"https://raw.githubusercontent.com/GuillaumeDua/awesome-code-element/main/resources/images/loading_animation.svg"}),o.details.code={},o.details.code.policies=class{get[Symbol.toStringTag](){return"ace.details.code.policies"}static language=class p{get[Symbol.toStringTag](){return"ace.details.code.policies.language"}static define_ce_output_language=(()=>{if(void 0===hljs)throw new Error("language_policies.define_ce_output_language: only supports hljs");return hljs.registerLanguage("ce_output",()=>({case_insensitive:!0,keywords:"",contains:[hljs.COMMENT("^# Compiler exited with result code","$",{relevance:10})]})),hljs.getLanguage("ce_output")})();static detectors=class{get[Symbol.toStringTag](){return"ace.details.code.policies.language.detectors"}static check_concept=function(e){return e&&e.is_valid_language&&e.get_language&&e.detect_language};static use_none=class{get[Symbol.toStringTag](){return"ace.details.code.policies.language.detectors.use_none"}static is_valid_language(e){return!0}static get_language_name(e){return e}static get_language(e){return"n/a"}static detect_language(e){return{language:"n/a",relevance:10,value:e}}};static use_hljs=class{get[Symbol.toStringTag](){return"ace.details.code.policies.language.detectors.use_hljs"}static is_valid_language(e){return void 0!==hljs.getLanguage(e)}static get_language_name(e){e=hljs.getLanguage(e);return e?e.name:void 0}static get_language(e){if(void 0!==e&&e instanceof HTMLElement)return e=e.classList.toString().match(/language-(\w+)/,""),!Boolean(e&&1===e.length)||"undefined"===e[1]?void 0:e[1];throw new Error("ace.language_policies.get_language(element): bad input")}static detect_language(e){if(void 0===e||"string"!=typeof e)throw new Error("ace.language_policies.detect_language(text): bad input");e=hljs.highlightAuto(e)??{};return{language:e.language,relevance:e.relevance,value:e.value}}}};static highlighters=class{get[Symbol.toStringTag](){return"ace.details.code.policies.language.highlighters"}static check_concept=function(e){return e&&e.highlight};static use_none=class{get[Symbol.toStringTag](){return"ace.details.code.policies.language.highlighters.use_none"}static highlight({code_element:e,language:t}){return{relevance:10,language:t??"n/a",value:e.innerHTML}}static initialize_ce_output_language(){}};static use_hljs=class y{get[Symbol.toStringTag](){return"ace.details.code.policies.language.highlighters.use_hljs"}static#highlight_dry_run({code_element:e,language:t}){if(!hljs)throw new Error(this+".highlight requires hljs (the HighlightJS library), which is missing");if(!(e&&e instanceof HTMLElement))throw new Error(this.prototype+".highlight: invalid argument. Expect [code_element] to be a valid HTMLElement");t&&!p.detectors.use_hljs.is_valid_language(t)&&(console.warn(this+`.highlight: invalid language [${t}], attempting fallback detection`),t=void 0);t=t?hljs.highlight(e.textContent,{language:t}):hljs.highlightAuto(e.textContent);return t.relevance<5&&0<e.textContent.length&&console.warn(this.prototype+".highlight:",`
	poor language relevance [${t.relevance}/10] for language [${t.language}]`,`
	Perhaps the code is too small ? (${e.textContent.length} characters):`,t),t}static highlight({code_element:e,language:t}){var a=y.#highlight_dry_run({code_element:e,language:t});e.innerHTML=a.value,t=p.detectors.use_hljs.get_language_name(a.language);return e.classList=[...e.classList].filter(e=>!e.startsWith("language-")&&"hljs"!==e),e.classList.add("hljs"),e.classList.add("language-"+t),a}}}};static code_parsers=class f{get[Symbol.toStringTag](){return"ace.details.code.policies.code_parsers"}static check_concept=function(e){return e&&e.parse};static result_type=class{get[Symbol.toStringTag](){return"ace.details.code.policies.code_parsers.result_type"}constructor(e){Object.assign(this,e)}raw=void 0;to_display=void 0;to_execute=void 0;ce_options={}};static use_none=class{get[Symbol.toStringTag](){return"ace.details.code.policies.code_parser.use_none"}static parse({code:e}){return f.result_type({raw:e,to_display:e,to_execute:e})}};static use_ace_metadata_parser=class v{get[Symbol.toStringTag](){return"ace.details.code.policies.code_parsers.use_ace_metadata_parser"}static tag="//\\s*@ace";static parse({code:e}){if(void 0===e)throw new Error(this.prototype+".parse: invalid argument");e=new f.result_type({raw:e}),e=v.#parse_impl({result:e});return v.#apply_ce_transformations({result:e})}static#parse_impl({result:t}){let a=t.raw;var e=new RegExp(`^\\s*?${v.tag}::CE=({(?:[^{}]|(?:{[^{}]*}))*})s*?
?`,"gm"),e=[...t.raw.matchAll(e)],i=(1<e.length&&console.warn(this.prototype+`.parse_impl: found multiples CE configurations
`,...e.map(e=>e.at(0))),e.reverse().map(e=>{var t=e[1].replaceAll(new RegExp("^\\s*?//","gm"),"");return a=a.slice(0,e.index)+a.slice(e.index+e[0].length),t}).reverse().forEach(e=>{t.ce_options={...t.ce_options||{},...JSON.parse(e)}}),a=(a=a.replaceAll(new RegExp(`^\\s*?${v.tag}::skip::block::begin
(.*?
)*\\s*?${v.tag}::skip::block::end\\s*?$`,"gm"),"")).replaceAll(new RegExp(`^.*?\\s+${v.tag}::skip::line\\s*$`,"gm"),""),e=`(^\\s*?${v.tag}::show::block::begin
(?<block>(^.*?$
)+)\\s*${v.tag}::show::block::end
?)`,i=`(^(?<line>.*?)\\s*${v.tag}::show::line\\s*?$)`,e=new RegExp(e+"|"+i,"gm"),[...a.matchAll(e)].reverse().map(e=>{var t=void 0!==e.groups.block?e.groups.block:e.groups.line;return a=a.substring(0,e.index)+t+a.substring(e.index+e[0].length),t}).reverse().join("\n"));return t.to_display=""!==i?i:a,t.to_execute=a,t}static#apply_ce_transformations({result:a}){return a.ce_options&&a.ce_options.includes_transformation&&a.ce_options.includes_transformation.forEach(e=>{var t=new RegExp(`^(\\s*?\\#.*?[\\"|\\<"].*?)(${e[0]})(.*?[\\"|\\>"])`,"gm");a.to_execute=a.to_execute.replace(t,`$1${e[1]}$3`)}),a}}}},o.details.code.mvc_details=class b{get[Symbol.toStringTag](){return"ace.details.code.mvc_details"}static html_parser=class w{get[Symbol.toStringTag](){return"code.mvc_details.html_parser"}constructor(){throw new Error(this+".constructor: not instanciable")}static is_valid_HTMLElement({element:e}){if(void 0===e)throw new Error(this.prototype+".is_valid_HTMLElement: invalid argument");return e instanceof HTMLElement&&!(e instanceof HTMLUnknownElement)}static#valid_tagName_cache=new Map;static is_valid_tagName({tagName:t}){if("string"==typeof t||t instanceof String){let e=this.#valid_tagName_cache.get(t);return e||(e=w.is_valid_HTMLElement({element:document.createElement(t)}),this.#valid_tagName_cache.set(t,e)),e}throw new Error(this.prototype+".is_valid_tagName: invalid argument")}static count_valid_childrens({element:e,is_recursive:t=!1}){if(void 0===e)throw new Error(this.prototype+".count_valid_childrens: invalid argument");return Array.from(e.children).map(e=>0+w.is_valid_HTMLElement({element:e})+(t?w.count_valid_childrens({element:e,is_recursive:t}):0)).reduce((e,t)=>e+t,0)}static to_code({elements:e}){if(void 0===e)throw new Error(this.prototype+".to_code: invalid argument");return e.map(e=>{switch(e.nodeType){case Node.TEXT_NODE:return e.textContent;case Node.ELEMENT_NODE:return w.is_valid_HTMLElement({element:e})?w.to_code({elements:Array.from(e.childNodes)}):`<${e.localName}>`+w.to_code({elements:Array.from(e.childNodes)});case Node.COMMENT_NODE:case Node.CDATA_SECTION_NODE:default:return console.debug(this.prototype+".to_code: unhandled tags [comment, cdata, etc.]"),""}}).join("")}static cleanup({element:e}){if(void 0===e)throw new Error(this.prototype+".cleanup: invalid argument");return Array.from(e.childNodes).filter(e=>e.nodeType===HTMLElement.ELEMENT_NODE).forEach(e=>{w.#cleanup_impl({element:e})}),e}static#cleanup_impl({element:t}){if(void 0===t)throw new Error(this.prototype+".cleanup_impl: invalid argument");var e,a=Array.from(t.childNodes);w.is_valid_HTMLElement({element:t})||(e=(t.attributes.length?"/":"")+Array.from(t.attributes).map(e=>e.name).join("/"),e=`<${t.localName}${e}>`,t.previousSibling.appendData(e),a.forEach(e=>t.parentNode.insertBefore(e,t)),t=t.parentNode.removeChild(t)),a.filter(e=>e.nodeType===HTMLElement.ELEMENT_NODE).forEach(e=>{w.#cleanup_impl({element:e})})}};static factory=class{get[Symbol.toStringTag](){return"ace.details.code.mvc_details.factory"}constructor(){throw new Error(this+".constructor: not instanciable")}static result_type=class{constructor(e){Object.assign(this,e),Object.seal(this)}model=void 0;view={top_parent:void 0,code_container:void 0};is_mutable=!1};static is_expected_layout(e){if(e instanceof HTMLElement)return"code"===e.localName;throw new Error("code.mvc_details.factory.is_expected_layout: invalid argument")}static build_from(e){return e instanceof b.factory.result_type||((e=void 0===(e??="")||void 0!==e.text?b.factory.#build_from_text(e.text):void 0!==e.element?b.factory.#build_from_element(e.element):void 0!==e.nodes?b.factory.#build_from_nodes(e.nodes):b.factory.#build_from(e)).model=(e.model??"").replace(/^\s*/,"").replace(/\s*$/,""),e.is_mutable&&(e.view.textContent=e.model)),e}static#build_from(e){var t;return e instanceof HTMLElement?b.factory.#build_from_element(e):e instanceof Array&&e.reduce((e,t)=>void 0!==t.nodeType,!0)?(t=1===(t=e.filter(e=>!(e.nodeType===Node.TEXT_NODE&&/^\s+$/g.test(e.textContent)))).length&&b.html_parser.is_valid_HTMLElement({element:t[0]})?t[0]:void 0)?b.factory.#build_from_element(t):b.factory.#build_from_nodes(e):e.nodeType===document.TEXT_NODE?b.factory.#build_from_text(e.textContent):b.factory.#build_from_text(e.toString())}static#build_from_text(e){return new b.factory.result_type({is_mutable:!0,model:e??"",view:((t=document.createElement("code")).textContent=e,t)});var t}static#build_from_element(e){var t;if(e instanceof HTMLElement)return t=!Boolean(b.html_parser.count_valid_childrens({element:e,is_recursive:!0})),new b.factory.result_type({is_mutable:t,model:(e=b.html_parser.cleanup({element:e}),t=b.html_parser.to_code({elements:Array.from(e.childNodes)}),e.innerHTML="",t),view:e});throw new Error("code.mvc_details.factory.#build_from_element: invalid argument")}static#build_from_nodes(e){var t;if((e=e instanceof NodeList?Array.from(e):e)instanceof Array&&0!==e.length&&e.reduce((e,t)=>void 0!==t.nodeType,!0))return e.forEach(e=>b.html_parser.cleanup({element:e})),t=e.map(e=>b.html_parser.to_code({elements:[e]})).join(""),e.forEach(e=>e.parentElement.removeChild(e)),b.factory.#build_from_text(t);throw new Error("code_mvc_details.factory.#build_from_nodes(array): invalid argument")}}},o.details.code.mvc=class code_mvc{get[Symbol.toStringTag](){return"ace.details.code.mvc"}is_mutable=void 0;view=void 0;model=void 0;controler=void 0;#model_parser=void 0;#model=void 0;get model_details(){return this.#model_update_ce_options(),this.#model}#model_update_ce_options(){this?.controler?.is_executable}static controler_type=class{get[Symbol.toStringTag](){return"ace.details.code.mvc.controler_type"}#target=void 0;toggle_parsing=void 0;constructor({target:e,language_policy:t,options:a}){if(!(e instanceof code_mvc))throw new Error(this+".controler_type.constructor: invalid argument (invalid type for argument [target])");this.#target=e,this.#language_policies=t;e=a.language??this.#target.model_details.ce_options.language;this.#language=this.#language_policies.detector.get_language_name(e),void 0===this.#language&&e&&console.warn(this+`.controler_type.constructor: invalid user-provided language: [${e}]`),this.toggle_language_detection=a.language?!Boolean(this.#language):a.toggle_language_detection,this.#initialize_behaviors(a)}#initialize_behaviors(e){this.#target.is_mutable||(console.warn(this+`.controler_type.initialize_behaviors: invalid language_policies.highlighter for non-mutable/const code mvc
`,`was [${this.language_policies.highlighter.name}], switching to fallback [language_policies.highlighters.use_none]`),this.language_policies.highlighter=t.highlighters.use_none);const t=o.details.code.policies.language;if(!t.detectors.check_concept(this.language_policies.detector))throw new Error(this+".controler_type.initialize_behaviors: invalid argument [language_policy.detector]");if(!t.highlighters.check_concept(this.language_policies.highlighter))throw new Error(this+".controler_type.initialize_behaviors: invalid argument [language_policy.highlighter]");this.#toggle_parsing=(Object.defineProperty(this,"toggle_parsing",{get:()=>Boolean(this.#toggle_parsing),set:this.#target.is_mutable?e=>{(e=o.details.utility.types.is_string(e)?Boolean("true"===e):Boolean(e))!==this.#toggle_parsing&&(this.#toggle_parsing=e,this.#target.update_view())}:()=>{console.warn(this+".set(toggle_parsing): no-op: not editable")}}),!!this.#target.is_mutable&&(Boolean(e.toggle_parsing)??Boolean(this.#target.model_details.ce_options)))}get language_policies(){return this.#language_policies}#language_policies={detector:void 0,highlighter:void 0};#language=void 0;set#language_impl(e){this.#language=this.#language_policies.detector.get_language_name(e),this.#target.is_mutable&&this.#language_policies.detector.get_language(this.#target.view)!==this.#language&&this.#language_policies.highlighter.highlight({code_element:this.#target.view,language:this.#language}),this.#target.#model_update_ce_options()}get language(){var e=this.language_policies.detector.is_valid_language(this.#language)?this.#language:(console.info(`${this}.get(language) : invalid language [${this.#language}], attempting fallback detections`),this.language_policies.detector.get_language(this.#target.view)??this.language_policies.detector.detect_language(this.#target.#model.to_display).language),e=this.#language_policies.detector.get_language_name(e);return this.toggle_language_detection&&(this.#language_impl=e),e}set language(e){var t={language_name:t=this.language_policies.detector.get_language_name(e),is_valid:Boolean(t)};this.#language===t.language_name&&t.is_valid||(this.toggle_language_detection=!t.is_valid,t.is_valid||console.warn(this+`.language(set): invalid input [${e}], attempting fallback detection.`),e=this.#target.is_mutable?this.#language_policies.highlighter.highlight({code_element:this.#target.view,language:this.#toggle_language_detection?void 0:t.language_name}):this.#language_policies.detector.detect_language(this.#target.model),void 0!==t.language_name&&this.#language===t.language_name)||(this.#language_impl=e.language,this.toggle_language_detection=Boolean(e.relevance<=5))}#toggle_parsing=void 0;#toggle_language_detection=!0;get toggle_language_detection(){return this.#toggle_language_detection||!this.language_policies.detector.is_valid_language(this.#language)}set toggle_language_detection(e){e=o.details.utility.types.is_string(e)?Boolean("true"===e):Boolean(e),this.#toggle_language_detection=e}get is_executable(){var e;return!!this.#target.#model.to_execute&&!!(e=this.#language)&&(o.API.configuration.is_ready&&e!==this.language_policies.detector.get_language_name(this.#target.#model.ce_options?.language)&&o.API.configuration.value.CE.has(e)&&(this.#target.#model.ce_options=o.API.configuration.value.CE.get(e),console.info(this+`.is_executable(get): loaded matching CE configuration for language [${e}]: `,this.#target.#model.ce_options)),Boolean(e===this.language_policies.detector.get_language_name(this.#target.#model.ce_options?.language)&&!o.details.utility.types.is_empty(this.#target.#model.ce_options)))}};static#modelChanged_Mutations_handler=new class{get[Symbol.toStringTag](){return"ace.details.code.mvc.#cancelable_MutationObserver (#modelChanged_Mutations_handler)"}#pending_update_controler={canceled:!1};#observer=new MutationObserver(e=>{e.forEach(e=>{a=e.target.nodeType===Node.ELEMENT_NODE?e.target:e.target.parentElement,t="ace-cs-code-mvc";var t,a=a.localName===t?a:a.closest(t);if(!a)throw new Error(this+": MutationObserver: model change: invalid target");const i=a.code_mvc;"characterData"!==e.type||i.controler.toggle_parsing||i.model===i.view.textContent||(this.#pending_update_controler.canceled=!0,this.#pending_update_controler=o.details.utility.cancelable_setTimeout(()=>{i.model=i.view.childNodes},1e3))})});observe(e,t){return this.#observer.observe(e,t)}};static get default_arguments(){return{controler_options:{language:void 0,toggle_parsing:!0,toggle_language_detection:!0},policies:{get language(){return{detector:o.details.code.policies.language.detectors.use_hljs,highlighter:o.details.code.policies.language.highlighters.use_hljs}}}}}constructor({code_origin:e,language_policies:t={...code_mvc.default_arguments.policies.language},controler_options:a={...code_mvc.default_arguments.controler_options}}){Object.assign(this,o.details.code.mvc_details.factory.build_from(e));const i=this.is_mutable;Object.defineProperty(this,"is_mutable",{get:()=>i,set:()=>{console.warn(this+".set(is_mutable): no-op, const property")}}),this.#initialize_behaviors(),this.controler=new code_mvc.controler_type({target:this,language_policy:t,options:o.details.utility.accumulate_objects(code_mvc.default_arguments.controler_options,a)}),this.update_view(),o.API.configuration.when_ready_then({handler:()=>{this.#model_update_ce_options()}})}#initialize_behaviors(){var e;this.#model_parser=(()=>{var e=o.details.code.policies.code_parsers,t=this.is_mutable?e.use_ace_metadata_parser:e.use_none;if(e.check_concept(t))return t;throw new Error(this+".#initialize_behaviors: invalid argument (parser) does not meet concept requirements")})(),this.update_view=this.is_mutable?()=>{this.view.textContent=this.model,this.controler.toggle_language_detection?this.controler.language=void 0:this.controler.language_policies.highlighter.highlight({code_element:this.view,language:this.controler.language})}:()=>{},this.#model=(e=this.#model_parser.parse({code:this.model}),Object.defineProperty(this,"model",{get:this.is_mutable?()=>this.controler.toggle_parsing?this.#model.to_display:this.#model.raw:()=>this.#model.raw,set:e=>{var t;if(e instanceof NodeList&&((t=Array.from(e)).forEach(e=>o.details.code.mvc_details.html_parser.cleanup({element:e})),e=o.details.code.mvc_details.html_parser.to_code({elements:t})),!o.details.utility.types.is_string(e))throw new Error(this+".set(model): invalid parameter");e!==this.#model.raw&&(this.#model=this.#model_parser.parse({code:e}),this.#model_update_ce_options(),this.update_view())}}),this.is_mutable&&code_mvc.#modelChanged_Mutations_handler.observe(this.view,{characterData:!0,subtree:!0}),e)}},o.API.code_mvc=o.details.code.mvc,o.API.HTMLElements={},o.API.HTMLElements.CodeMVC=class E extends o.details.HTMLElements.DeferedHTMLElement{static get HTMLElement_tagName(){return"ace-cs-code-mvc"}get[Symbol.toStringTag](){return"ace.API.HTMLElements.CodeMVC/"+E.HTMLElement_tagName}static get named_parameters(){return["language","toggle_parsing","toggle_language_detection","code"]}static mvc_type=o.details.code.mvc;mvc=void 0;constructor(e={}){if("object"!=typeof e)throw new Error(`${E.prototype}.constructor: invalid argument.
                Expected object layout: { ${E.named_parameters} }
                or valid childs/textContent when onConnectedCallback triggers`);e instanceof E.mvc_type?(super(),this.acquire_parameters=()=>!0,this.#code_mvc_initializer=()=>e):(super(e),this.#code_mvc_initializer=()=>new code_mvc({code_origin:this._parameters.code,controler_options:{language:this._parameters.language,toggle_language_detection:this._parameters.toggle_language_detection,toggle_parsing:this._parameters.toggle_parsing}}))}#code_mvc_initializer=void 0;acquire_parameters(e){super.acquire_parameters(e);const t=({property_name:e})=>{this._parameters[e]=this._parameters[e]??this.getAttribute(e)??void 0};E.named_parameters.forEach(e=>t({property_name:e})),this._parameters.code||=this.childNodes.length?Array.from(this.childNodes):void 0;e=Boolean(this._parameters.code);return e&&(this.acquire_parameters=()=>{throw new Error(this+".acquire_parameters: already called")}),console.debug(this+".acquire_parameters ... "+e,this._parameters),e}initialize(){this.StatusDisplay=this.appendChild(new o.details.HTMLElements.StatusDisplay),this.mvc=this.#code_mvc_initializer(),this.appendChild(this.mvc.view),delete this._parameters,this.removeAttribute("code"),this.loading_animation_controler=new o.details.loading_animation.controler({owner:this,target:this.mvc.view});var{CopyToClipboard:e,CE:t}=this.constructor.add_buttons_to({value:this}),e=(this.constructor.set_on_resize_event({panel:this,scrolling_element:this.mvc.view,elements_to_hide:[e,t]}),o.details.utility.types.projections);o.details.utility.data_binder.synced_attr_view_controler({target:this,data_sources:[{property_name:"language",owner:this.mvc.controler,projection:e.string},{property_name:"toggle_parsing",owner:this.mvc.controler,projection:e.boolean},{property_name:"toggle_language_detection",owner:this.mvc.controler,projection:e.boolean},{property_name:"is_executable",owner:this.mvc.controler,projection:e.boolean}]})}static add_buttons_to=({value:e})=>{var t,a;if(e instanceof E)return t=new o.details.HTMLElements.Buttons.CopyToClipboard,t=e.appendChild(t),a=new o.details.HTMLElements.Buttons.ShowInGodbolt,a=e.appendChild(a),e.ace_cs_buttons={CopyToClipboard:t,CE:a};throw new Error(this.prototype+".add_buttons_to: invalid argument type")};static set_on_resize_event({panel:e,scrolling_element:t,elements_to_hide:a}){e.on_resize=(({owner:e,elements:t})=>{let a=(e,t)=>{t.forEach(e=>{e.style.display="none"}),e.onmouseover=()=>{t.forEach(e=>e.style.display="")},e.onmouseout=()=>{t.forEach(e=>e.style.display="none")}},i=(e,t)=>{t.forEach(e=>{e.style.display=""}),e.onmouseover=null,e.onmouseout=null};return()=>{(o.API.configuration.value.auto_hide_buttons||o.details.utility.html.is_scrolling(e).horizontally?a:i)(e,t)}})({owner:t,elements:Object.entries(a).map(e=>e[1])}),o.details.HTMLUtils.ResizeObserver.observe(e)}set status({value:e,message:t}){if(!e)throw new Error(this+".status(set): invalid argument");this.isConnected&&(this.setAttribute("status",e),this.StatusDisplay.set({value:e,message:t}))}get status(){return this.StatusDisplay.get()}set status_for({value:e,message:t,duration:a}){if(!e||!o.details.utility.types.is_int(a))throw new Error(this+".status_for(set): invalid argument");const i=this.status;this.status={value:e,message:t},setTimeout(()=>this.status=i,a)}},customElements.define(o.API.HTMLElements.CodeMVC.HTMLElement_tagName,o.API.HTMLElements.CodeMVC),o.API.HTMLElements.CodeSection=class T extends o.details.HTMLElements.DeferedHTMLElement{static get HTMLElement_tagName(){return"ace-cs"}get[Symbol.toStringTag](){var t="ace.API.HTMLElements.CodeSection/"+T.HTMLElement_tagName;try{return this.id?t+`(id=${this.id})`:t}catch(e){if("TypeError"===e.name)return t;throw e}}static get named_parameters(){return["language","toggle_parsing","toggle_execution","url","code"]}constructor(e={}){if(!new.target||"object"!=typeof e)throw new Error(`${T.prototype}.constructor: invalid argument.
                Expected object layout: { ${T.named_parameters} }
                or valid childs/textContent when onConnectedCallback triggers`);super(e)}acquire_parameters(e){super.acquire_parameters(e);const t=({property_name:e})=>{this._parameters[e]=this._parameters[e]||this.getAttribute(e)||void 0};T.named_parameters.forEach(e=>t({property_name:e})),this.removeAttribute("code"),this._parameters.code||=0===(e=Array.from(this.childNodes)).length||1===e.length&&e[0].nodeType===Node.TEXT_NODE&&/^\s+$/g.test(e[0].textContent)?void 0:e,this._parameters.code&&this._parameters.url&&(o.details.utility.types.is_string(this._parameters.code)&&/^\s+$/.test(this._parameters.code)||console.warn(this+".acquire_parameters: both parameters [code] and [url] provided.","\n\tfallback behavior: use only [url]",`	
code = [${this._parameters.code}]`,`	
url  = [${this._parameters.url}]`),delete this._parameters.code,this.innerHTML="");e=Boolean(this._parameters.code??this._parameters.url);return e&&(this.acquire_parameters=()=>{throw new Error(this+".acquire_parameters: already called")}),e}initialize(){console.debug(this+".initialize: with parameters:",this._parameters),this.ace_panels=(()=>{var e=o.API.HTMLElements.CodeMVC,t=e.mvc_type,[e,t]=[new e(new t({code_origin:this._parameters.code,controler_options:{language:this._parameters.language,toggle_parsing:this._parameters.toggle_parsing,toggle_language_detection:this._parameters.toggle_language_detection}})),new e(new t({code_origin:"",controler_options:{language:"ce_output",toggle_parsing:!1,toggle_language_detection:!1},language_policy:{detector:o.details.code.policies.language.detectors.use_none,highlighter:o.details.code.policies.language.highlighters.use_hljs}}))];return[e,t].forEach(e=>this.appendChild(e)),t.title="Compilation provided by Compiler Explorer at https://godbolt.org/",{presentation:e,execution:t}})(),this._parameters.url&&(this.url=this._parameters.url),this.toggle_execution=!1;{const t=this._parameters.toggle_execution;o.API.configuration.when_ready_then({handler:()=>this.toggle_execution=t??o.API.configuration.value.CodeSection.toggle_execution})}this.#initialize_ids();var e=o.details.utility.types.projections;o.details.utility.data_binder.synced_attr_view_controler({target:this,data_sources:[{property_name:"url",owner:this},{property_name:"language",owner:this.ace_panels.presentation.mvc.controler},{property_name:"toggle_parsing",owner:this.ace_panels.presentation.mvc.controler,projection:e.boolean},{property_name:"toggle_language_detection",owner:this.ace_panels.presentation.mvc.controler,projection:e.boolean},{property_name:"toggle_execution",owner:this,projection:e.boolean},{property_name:"is_executable",owner:this.ace_panels.presentation.mvc.controler,projection:e.boolean}]});o.details.utility.inject_on_property_change_proxy({target:this.ace_panels.presentation.mvc,property_name:"model",on_property_change:({new_value:e,old_value:t})=>{e!==t&&this.toggle_execution&&this.#fetch_execution_controler.fetch()}}),o.details.utility.inject_on_property_change_proxy({target:this.ace_panels.presentation.mvc.controler,property_name:"language",on_property_change:({new_value:e,old_value:t,origin_op:a})=>{"set"===a&&e!==t&&this.toggle_execution&&this.#fetch_execution_controler.fetch()}}),new MutationObserver(e=>{e.forEach(e=>{e.oldValue!==this.id&&this.#initialize_ids()})}).observe(this,{attributeFilter:["id"],attributeOldValue:!0}),delete this._parameters,this.initialize=()=>{throw new Error(this+".initialize: already called")}}static#id_generator=(()=>{const e=function*(){let e=0;for(;;)yield e++}();return()=>"cs_"+e.next().value})();#initialize_ids(){this.id||=T.#id_generator(),this.ace_panels.presentation.id=this.id+".panels.presentation",this.ace_panels.execution.id=this.id+".panels.execution",this.ace_panels.presentation.ace_cs_buttons.CE.id=this.id+".panels.presentation.buttons.CE",this.ace_panels.presentation.ace_cs_buttons.CopyToClipboard.id=this.id+".panels.presentation.buttons.CopyToClipboard",this.ace_panels.execution.ace_cs_buttons.CE.id=this.id+".panels.execution.buttons.CE",this.ace_panels.execution.ace_cs_buttons.CopyToClipboard.id=this.id+".panels.execution.buttons.CopyToClipboard"}#toggle_execution=!1;set toggle_execution(e){e=o.details.utility.types.is_string(e)?Boolean("true"===e):Boolean(e),this.#toggle_execution=e,this.#toggle_execution&&this.#fetch_execution_controler.fetch()}get toggle_execution(){return this.#toggle_execution}static fetch_execution_controler_t=class{get[Symbol.toStringTag](){var e=o.details.utility.types.get_object_typename(T.prototype),t=e+".fetch_execution_controler_t";return this.#target?t+` with target (${e} id=${this.#target.id})`:t}#target=void 0;constructor(e){if(!(e&&e instanceof T))throw new Error(this+": invalid input");this.#target=e}#is_loading=!1;get is_loading(){return this.#is_loading}#last_input=void 0;get last_input(){return this.#last_input}get#expect_target_is_executable(){if(!this.#target.#toggle_execution)throw new Error(this+".expect_target_is_executable: prerequisite: target.toggle_execution");var e,t=this.#target.ace_panels.execution;const a=this.#target.ace_panels.presentation.mvc;return a.controler.is_executable?(t.status={value:"ready-to-fetch",message:""},!0):(e=this+`.get(expect_target_is_executable):
	`+(0===a.model_details.raw.length?"empty model (model_details.raw)":0===a.model_details.to_execute.length?"empty model_details.to_execute\n\tcheck your parsing-specific metadata/tags, like [// @ace::skip::line]":o.details.utility.types.is_empty(a.model_details.ce_options)?`missing configuration for language [${a.controler.language}] - it might still be loading.
	Otherwise, check your call to ace.API.configuration.configure`:"unknown reason"),t.status={value:"error-not-executable",message:e},console.warn(e),!1)}fetch(){if(this.#target.#toggle_execution&&this.#expect_target_is_executable){var e=this.#target.ace_panels.presentation.mvc;if(this.last_input===e.model_details.to_execute)console.warn(this+".fetch: no-op: already fetching or fetched");else if(this.#last_input=e.model_details.to_execute,this.is_loading)console.warn(this+".already loading");else try{this.#target.ace_panels.execution.loading_animation_controler.animate_while({promise:this.#make_fetch_promise()})}catch(e){console.error(e)}}}#make_fetch_promise(){this.#is_loading=!0;const a=({content:{value:e,return_code:t}})=>{var a=this.#target.ace_panels.execution;a.mvc.model=e,a.status={value:`${t<0?"failure":"success"}-compilation`,message:"compilation: "+(t<0?"failure":"success")},this.#is_loading=!1},t=({error:e})=>{this.#target.ace_panels.execution.status={value:"error-compilation",message:`compilation failed with error:
	`+e},this.#is_loading=!1};var e,i=this.#target.ace_panels.presentation;return i.mvc.controler.is_executable||(e=""+this+`.fetch_execution: not executable.
	No known valid configuration for language [${i.mvc.controler.language}]`,t({error:e})),o.details.remote.API.compiler_explorer.fetch_execution_result(i.mvc.model_details.ce_options,i.mvc.model_details.to_execute).then(e=>{var t=new RegExp("# Compilation provided by Compiler Explorer at https://godbolt.org/\n\n(# Compiler exited with result code (-?\\d+))").exec(e),e=null===t?{value:e,error:"unknown",return_code:void 0}:{value:e.substring(t[0].length-t[1].length),error:void 0,return_code:3!=t.length?void 0:parseInt(t[2])};a({content:e})}).catch(e=>{e=this+`.fetch_execution: CE_API.fetch_execution_result: failed:
	[${e}]`,t({error:e}),console.error(e)})}};#fetch_execution_controler=new T.fetch_execution_controler_t(this);#url=void 0;get url(){return this.#url}set url(e){if(this.#url!==(e=e&&"undefined"!==e?e:void 0)){this.#url=e;const r=this.ace_panels.presentation;this.#url?(r.status={value:"network-fetching",message:""+this+`.set(url): fetching:
	url = [${this.#url}]`},e=new Promise((a,i)=>{o.details.utility.fetch_resource(this.#url,{on_error:e=>i({value:"error-network-invalid-url",message:this+`.set(url): network error:
	`+e}),on_success:e=>{var t;e||i({value:"error-network-invalid-fetched-code",message:this+`.set(url): network error:
	fetched invalid (possibly empty) result
	code=[${e}]`}),r.mvc.controler.toggle_language_detection&&(t=o.details.utility.get_url_extension(this.#url))&&r.mvc.controler.language_policies.detector.is_valid_language(t)&&(r.mvc.controler.language=t,r.mvc.controler.toggle_language_detection=!1),r.status={value:"success-network-fetch",message:""+this+`.set(url): network success:
	fetched [${this.url}]`},r.mvc.model=e,a(this+".set(url) -> on_success")}})}).catch(e=>{const{value:t,message:a}=e;t??="error-network-unknown",a??=this+`.set(url): network error:
	unknown`,r.status={value:t,message:a},console.error(r.status.message)}).then(e=>{var t,a=r.mvc.controler;a.toggle_language_detection&&(t=o.details.utility.get_url_extension(this.#url))&&a.language_policies.detector.is_valid_language(t)&&(a.toggle_language_detection=!1,a.language=t),this.#fetch_execution_controler.fetch()},e=>{r.status={value:"error-network-fetch-failed",message:this+`.set(url): fetch failed
	`+e}}),this.ace_panels.presentation.loading_animation_controler.animate_while({promise:e}),this.ace_panels.execution.loading_animation_controler.animate_while({promise:e})):r.status={value:"error-network-invalid-url",message:this+`.set(url): network error:
	invalid or empty url`}}}static get HTML_element_placeholder_translation(){return{translate:function(e){e.classList.remove(this.tag_name),0===e.classList.length&&e.removeAttribute("class");var t=Array.from(e.attributes).filter(e=>e.specified);let a={};return a.attributes=Object.fromEntries(t.filter(e=>-1===this.type.named_parameters.indexOf(e.name)).map(e=>[e.name,e.value])),a.code=o.details.code.mvc_details.html_parser.to_code({elements:[e]}),a=o.details.utility.accumulate_objects(a,Object.fromEntries(t.filter(e=>-1!==this.type.named_parameters.indexOf(e.name)).map(e=>[e.name,e.value]))),new this.type(a)}}}},customElements.define(o.API.HTMLElements.CodeSection.HTMLElement_tagName,o.API.HTMLElements.CodeSection),o.details.HTMLUtils.StyleSheetManager=class x{get[Symbol.toStringTag](){return"ace.details.Style"}constructor(){throw new Error(this+": not instanciable (class-as-namespace)")}static#stylesheet_element_id="ace-stylesheet";static initialize(){var e,t;document.getElementById(x.#stylesheet_element_id)?console.info(`${x.prototype}.initialize: user provided (valid element with id="${x.#stylesheet_element_id}")`):(console.info(x.prototype+".initialize: automated loading ..."),(e=document.createElement("link")).rel="stylesheet",e.id=x.#stylesheet_element_id,e.href=o.API.configuration.value.description.stylesheet_url||(t=(o.API.configuration.value.description.path_prefix||"").replace(/\/$/,""),o.API.configuration.value.compatibility.doxygen?t+"/default.css":t+"/styles/default.css"),console.info(`${x.prototype}.initialize: loading using url [${e.href}]`),document.head.appendChild(e))}},o.details.HTMLUtils.Theme=class M{get[Symbol.toStringTag](){return"ace.details.HTMLUtils.Theme"}constructor(){throw new Error(this+": not instanciable (class-as-namespace)")}static preferences=class k{get[Symbol.toStringTag](){return"ace.details.HTMLUtils.Theme.preferences"}constructor(){throw new Error(this+": not instanciable (class-as-namespace)")}static#prefersLightModeInDarkModeKey="prefers-light-mode-in-dark-mode";static#prefersDarkModeInLightModeKey="prefers-dark-mode-in-light-mode";static get system_prefers_dark_mode(){return window.matchMedia("(prefers-color-scheme: dark)").matches}static get is_dark_mode(){return Boolean(!k.system_prefers_dark_mode&&localStorage.getItem(k.#prefersDarkModeInLightModeKey)||k.system_prefers_dark_mode&&!localStorage.getItem(k.#prefersLightModeInDarkModeKey))}static set is_dark_mode(e){e?(k.system_prefers_dark_mode?localStorage.removeItem(k.#prefersLightModeInDarkModeKey):localStorage.setItem(k.#prefersDarkModeInLightModeKey,!0),document.documentElement.classList.add("dark-mode"),document.documentElement.classList.remove("light-mode")):(k.system_prefers_dark_mode?localStorage.setItem(k.#prefersLightModeInDarkModeKey,!0):localStorage.removeItem(k.#prefersDarkModeInLightModeKey),document.documentElement.classList.remove("dark-mode"),document.documentElement.classList.add("light-mode"))}static get dark_or_light(){return k.is_dark_mode?"dark":"light"}};static url_builder=class L{get[Symbol.toStringTag](){return"ace.details.HTMLUtils.Theme.url_builder"}constructor(){throw new Error(this+": not instanciable (class-as-namespace)")}static#base=`https://cdnjs.cloudflare.com/ajax/libs/highlight.js/${o.details.dependency.manager.dependencies.hljs.version}/styles/`;static#ext=".min.css";static build({name:e,dark_or_light:t=M.preferences.dark_or_light}){if("string"!=typeof e&&!(e instanceof String))throw new Error(this.prototype+".build : invalid argument [name]");if(t&&"light"!==t&&"dark"!==t)throw new Error(this.prototype+".build : invalid argument : [dark_or_light]");return t=(Boolean(t)?"-":"")+t,""+L.#base+e+t+L.#ext}static retrieve(e){e=e.match(L.#base+"(.*?)(-dark|-light){0,1}"+L.#ext);return{name:e[1],dark_or_light_suffix:e[2]}}static toggle_dark_mode(e){return e.replace(/\-dark|\-light/,e=>"-dark"===e?"-light":"-dark")}};static get default_theme(){var e=(e=$(document).find(`select[is=${o.API.HTMLElements.ThemeSelector.HTMLElement_tagName}]`).map((e,t)=>t.options[0]).filter((e,t)=>t&&t.value)[0])?e.value:void 0;return Boolean(e)?e:o.API.configuration.value.hljs.default_theme}static#stylesheet_element_id="ace-code-theme-stylesheet-placeholder";static initialize({force_dark_mode:e=void 0}){var t=document.createElement("link"),t=(t.rel="stylesheet",t.id=M.#stylesheet_element_id,document.head.appendChild(t),console.info(`${M.prototype}.initialize: color-scheme preference: [${M.preferences.dark_or_light}]`),M.preferences.is_dark_mode=e??M.preferences.is_dark_mode,M.default_theme);t&&(console.info(M.prototype+`.initialize: default theme name: [${t}]`),M.value=t),M.initialize=()=>{console.error(M.prototype+".initialize: can only be called once")}}static get supports_dark_or_light_mode(){return!M.value.url||M.value.dark_or_light_suffix}static get value(){var e=document.getElementById(M.#stylesheet_element_id);if(e)return{url:e.getAttribute("href"),name:e.getAttribute("theme_name"),dark_or_light_suffix:e.getAttribute("theme_dark_or_light_suffix"),element:e,get support_dark_or_light_mode(){return Boolean(this.dark_or_light_suffix)},get fullname(){return""+this.name+this.dark_or_light_suffix}};throw new Error(""+M.prototype+`.value(get): missing stylesheet [${M.#stylesheet_element_id}]
	Did you forget to call ace.API.initialize(); ?`)}static set value(e){console.info(M.prototype+`.value(set): setting theme to [${e}]`);try{if(M.value.name===e)return void console.info(M.prototype+".value(set): already loaded")}catch(e){}if(e){const a=({theme_name:e,dark_or_light:t,on_failure:a})=>{let i=M.url_builder.build({name:e,dark_or_light:t});console.debug(""+M.prototype+`.value(set): loading stylesheet
	[${i}] ...`),fetch(i,{method:"GET"}).then(e=>{if(e.ok)return e.ok;throw new Error("unreachable")}).then(()=>{return e=[{url:i}["url"]][0],M.value.element.setAttribute("href",e),t=M.url_builder.retrieve(e),M.value.element.setAttribute("theme_name",t.name),M.value.element.setAttribute("theme_dark_or_light_suffix",t.dark_or_light_suffix||""),void console.info(M.prototype+`.value(set): stylesheet successfully loaded
	[${e}]`);var e,t}).catch(e=>{var t=a?`
But a fallback strategy is provided (wait for it ...)`:"";(a?console.debug:console.error)(`${M.prototype}: unable to load
	[${i}]
`+e+t),a&&a()})};var t=-1!==e.search(/(-dark|-light)$/,"");a({theme_name:e,dark_or_light:t?"":M.preferences.dark_or_light,on_failure:t?void 0:()=>{a({theme_name:e,dark_or_light:""})}})}else M.value.element.setAttribute("href",""),M.value.element.setAttribute("theme_name",""),M.value.element.setAttribute("theme_dark_or_light_suffix","")}static set is_dark_mode(e){M.preferences.is_dark_mode=e,M.value.support_dark_or_light_mode?e&&"-dark"===M.value.dark_or_light_suffix||!e&&"-light"===M.value.dark_or_light_suffix?console.info(M.prototype+".is_dark_mode(set): theme already has the right dark/light mode, aborting."):M.value=M.url_builder.toggle_dark_mode(M.value.fullname):console.info(M.prototype+".is_dark_mode(set): theme does not supports dark/light mode, aborting.")}static ToggleDarkMode(){M.is_dark_mode=!M.preferences.is_dark_mode}},window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{$(document).find(`button[is=${o.API.HTMLElements.ToggleDarkModeButton.HTMLElement_tagName}]`).each((e,t)=>{t.updateIcon()}),o.details.HTMLUtils.Theme.is_dark_mode=e.matches}),window.matchMedia("(prefers-color-scheme: light)").addEventListener("change",e=>{$(document).find(`button[is=${o.API.HTMLElements.ToggleDarkModeButton.HTMLElement_tagName}]`).each((e,t)=>{t.updateIcon()}),o.details.HTMLUtils.Theme.is_dark_mode=!e.matches}),o.API.HTMLElements.ToggleDarkModeButton=class S extends HTMLButtonElement{static get HTMLElement_tagName(){return"ace-cs-button_toggle-dark-mode"}get[Symbol.toStringTag](){return"ace.API.HTMLElements.ToggleDarkModeButton/"+S.HTMLElement_tagName}static title="Toggle light/dark Mode";static#lightModeIcon='<svg id="light-mode-icon" xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24px" viewBox="0 0 24 24" width="24px" fill="#FCBF00"><rect fill="none" height="24" width="24"/><circle cx="12" cy="12" opacity=".3" r="3"/><path d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"/></svg>';static#darkModeIcon='<svg id="dark-mode-icon"  xmlns="http://www.w3.org/2000/svg" enable-background="new 0 0 24 24" height="24px" viewBox="0 0 24 24" width="24px" fill="#FE9700"><rect fill="none" height="24" width="24"/><path d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27 C17.45,17.19,14.93,19,12,19c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z" opacity=".3"/><path d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"/></svg>';constructor(){super()}connectedCallback(){this.setAttribute("is",S.HTMLElement_tagName),this.title=S.title,this.innerHTML=""+S.#lightModeIcon+S.#darkModeIcon,this.addEventListener("click",this.#on_click)}#on_click(){o.details.HTMLUtils.Theme.ToggleDarkMode()}},customElements.define(o.API.HTMLElements.ToggleDarkModeButton.HTMLElement_tagName,o.API.HTMLElements.ToggleDarkModeButton,{extends:"button"}),o.API.HTMLElements.ThemeSelector=class H extends HTMLSelectElement{static get HTMLElement_tagName(){return"ace-cs-theme-selector"}#parameters=void 0;constructor(e){super(),this.#parameters=e}connectedCallback(){if(this.#parameters)this.#initialize();else try{var e=$(this).find("option");this.#parameters=e.map((e,t)=>t.getAttribute("value")).toArray(),this.#initialize()}catch(e){throw console.error(""+e),e}}#initialize(){this.setAttribute("is",H.HTMLElement_tagName),this.id=H.#id_generator(),this.innerHTML="",this.#parameters.forEach(e=>{var t=document.createElement("option");t.value=e,t.text=e,this.appendChild(t)}),this.onchange=function(){var e=$(this).find("option:selected");console.info(`ace.API.HTMLElements.ThemeSelector.onchange: switching to [${e.text()}]`),o.details.HTMLUtils.Theme.value=e.text()}}static#id_generator=(()=>{let e=o.details.utility.make_incremental_counter_generator();return()=>H.HTMLElement_tagName+"-"+e.next().value})()},customElements.define(o.API.HTMLElements.ThemeSelector.HTMLElement_tagName,o.API.HTMLElements.ThemeSelector,{extends:"select"}),o.API.initialize=()=>{$(function(){$(document).ready(function(){if(console.info("ace.API.initialize ..."),console.debug(">>> ace:",o),!o.API.configuration.value)throw new Error(`ace.API.initialize: invalid configuration
	call ace.API.configuration.configure(configuration_arg) prior to ace.API.initialize()`);o.API.configuration.value.is_default&&console.warn("ace.API.initialize: using default configuration.\n","\tSome features might be disabled.\n","\t[ace.API.configuration] = ",o.API.configuration.value),o.details.HTMLUtils.StyleSheetManager.initialize();[o.API.HTMLElements.CodeSection,o.API.HTMLElements.CodeMVC].forEach(e=>{{if(!e)throw new Error("ace.API.initialize: invalid argument");const i=o.details.utility.accumulate_objects({type:e,tag_name:e.HTMLElement_tagName,query:`div[class=${e.HTMLElement_tagName}]`,translate:function(){return console.warn("ace.API.initialize: replace_HTML_element_placeholders: using default/fallback translation.translate"),new this.type}},e.HTML_element_placeholder_translation);e=$("body").find(i.query),console.info(`ace.API.initialize: replace_HTML_element_placeholders: [${i.type.name}] : replacing [${e.length}] element(s) ...`),e.each((e,t)=>{var a=i.translate(t);a&&t.replaceWith(a)})}}),o.API.configuration.value.compatibility.pre_code&&(console.info("ace.API.initialize: existing pre-code compatiblity ..."),o.API.initializers.PreCodeHTMLElements()),o.details.HTMLUtils.Theme.initialize({force_dark_mode:(()=>{switch(o.API.configuration.value.force_dark_light_scheme){case"light":return!1;case"dark":return!0;default:return}})()})})})};export{e as default,t as ace_details};
