name: Deploy-doc-to-GitHub-Pages

# on:
#   pull_request:
#     types:
#       - closed

# jobs:
#   if_merged:
#     if: github.event.pull_request.merged == true
#     runs-on: ubuntu-latest
#     steps:
#     - run: |
#         echo The PR was merged

on:
  push:
    branches:
      - main
permissions: 
  contents: write
jobs:
  docs_to_gh_pages:

    concurrency: ci-${{ github.ref }}
    runs-on: ubuntu-22.04 # ubuntu-latest currently is ubuntu-20.04

    steps:

      - name: Checkout 🛎️
        uses: actions/checkout@v3

      - name: Generates host page (README)
        run: |
          mkdir -p docs/
          cp awesome-code-element.js  docs/
          cp documentation/           docs/
          cp README.md                docs/

      - name: Deploy 🚀 
        uses: JamesIves/github-pages-deploy-action@v4.3.3
        with:
            branch: gh-pages
            folder: docs
